#!/usr/bin/env bash

# Check if Nginx is already configured to listen on port 80
nginx_config="/etc/nginx/sites-enabled/default"
if grep -q "listen\s\+80;" "$nginx_config"; then
    echo "Nginx is already configured to listen on port 80."
else
    # Change the listening port from 8080 to 80 in the Nginx configuration
    sudo sed -i "s/8080/80/" "$nginx_config"
fi

# Check if Nginx service is running
if sudo service nginx status | grep -q "active (running)"; then
    # Restart Nginx to apply changes
    sudo service nginx restart
    echo "Nginx restarted."
else
    echo "Nginx is not running. Please start Nginx first."
fi
